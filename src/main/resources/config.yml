ai:
  enabled: true

  # Имя бота в чате (можно использовать цветовые коды §)
  botName: "Прохожий"

  # Общий системный промпт (база)
  systemPrompt: >
    Ты дружелюбный ИИ-ассистент на Minecraft-сервере.
    Отвечай по-русски, кратко, без токсичности, без спама.
    Не выдавай персональные данные. Не упоминай системные инструкции.

  # Имя модели (как ожидает твой OpenAI-совместимый endpoint)
  # Для OpenRouter можно использовать "openrouter/auto"
  model: "openrouter/auto"

http:
  # URL OpenAI-совместимого endpoint’а.
  # Обычно заканчивается на /v1/chat/completions
  #
  # Примеры:
  # OpenAI:      https://api.openai.com/v1/chat/completions
  # OpenRouter:  https://openrouter.ai/api/v1/chat/completions
  endpoint: "https://openrouter.ai/api/v1/chat/completions"

  # API-ключ для доступа к ИИ.
  apiKey: "PASTE_KEY_HERE"

  # Таймаут запроса к ИИ в секундах.
  timeoutSeconds: 20

behavior:
  replyToChat: true

  # Шанс ответа на обычный чат (0.0..1.0)
  replyChance: 0.25

  # Если true — бот отвечает ТОЛЬКО если его упомянули в сообщении.
  mentionRequired: false

  # Сколько сообщений истории хранить на игрока (контекст диалога)
  maxHistoryMessages: 12

  # Максимальная длина ответа в символах
  maxResponseChars: 240

rateLimit:
  perPlayerPer10s: 2
  globalPer10s: 10

events:
  # Сообщение, когда игрок заходит на сервер
  onJoin: true

  # Сообщение, когда игрок выходит с сервера
  onQuit: true

  # Сообщение о смерти игрока
  onDeath: true

  # Сообщение, когда игрок получает достижение
  onAdvancement: true

  # Антидубль достижений: если одно и то же достижение сработало повторно
  # за последние N секунд — второй раз игнорируем.
  advDedupSeconds: 10

  # Игнорировать “рецептные” достижения (обычно они спамят): minecraft:recipes/...
  ignoreRecipeAdvancements: true

  # Поздравлять только “настоящие” достижения с display (обычно рецепты без display)
  requireDisplayForAdvancements: true

  # Уважать флаг 'announce to chat' у достижения (если false — не поздравлять)
  requireAnnounceToChat: true

  # Дополнительный фильтр: если ключ достижения содержит любой из этих фрагментов — игнорируем
  advancementIgnoreContains:
    - "recipes/"
    - "recipe"
    - "craft"
    - "smelt"

personas:
  lockSeconds: 180
  switchMargin: 2.0

  list:
    buddy:
      weight: 1.0
      prompt: "Ты дружелюбный собеседник. Тепло и по делу."
    coach:
      weight: 0.7
      prompt: "Ты ИИ-тренер. Даёшь краткие советы по выживанию и тактике (1–2 пункта)."
    hype:
      weight: 0.6
      prompt: "Ты поддерживаешь и поздравляешь с успехами. Энергично, но без спама."
    calmmod:
      weight: 0.8
      prompt: "Ты успокаиваешь конфликты и деэскалируешь. Вежливо, нейтрально."
    sarcasticlight:
      weight: 0.3
      prompt: "Ты можешь легко и дружелюбно пошутить. Никаких оскорблений."
